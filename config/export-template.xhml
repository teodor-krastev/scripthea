<html>
  <head>
    <meta http-equiv="Content-Language" content="en-gb">
    <style>
      table, th, td {
        /*border: 1px solid black;*/
        border-collapse: collapse;
	font-family: Lucida Sans Unicode; 
       	font-size: 9pt; 
      }
      th, td {
        padding: 8px;
      }
    </style>
  <link rel="shortcut icon" type="image/x-icon" href="https://scripthea.com/images/favicon.ico">
  </head>

  <body>
  <table border="0" width="100%" >
	  <tr>
	    <td valign="top">		
		<img border="0" src="http://scripthea.com/images/v3line-6wp.png" width="16" height="2000">
	    </td>
	    <td align="left" valign="top">	    
		    <p align="center"><font face="Lucida Calligraphy" size="4">Scripthea images generated by Stable Diffusion
                    <a target="_blank" href="https://scripthea.com">
			<img border="0" src="http://scripthea.com/images/penpic1wp.png" width="30" align="right"></font></a></p>	    
		    <table id="image-table" width="100%" >
		      <tr>
		        <!-- Insert image cells here -->
		      </tr>
		    </table>
	    </td>
	  </tr>
  </table>
    <script>
      // The list of image filenames
      var images = getImages(); var imgPerRow = $imgPerRow$; var showPrompt = $showPrompt$; var showFilename = $showFilename$;
      var imgList = new Array();
      // Get the table element
      var table = document.getElementById("image-table");

      // Loop through the filenames and add a new row to the table for each image
      for (var i = 0; i < images.length; i++) {
        var filename = images[i].filename;

        if ((i % imgPerRow) == 0) var newRow = table.insertRow();
        var newCell = newRow.insertCell(-1); newCell.style.textAlign = "center"; newCell.style.verticalAlign = "bottom"; newCell.style.width = (100/imgPerRow).toString()+"%";
	var imgID = "image-"+i.toString();
        newCell.innerHTML = (showPrompt ? images[i].prompt : "")+"<br><img src='" + filename + "' width='$imgWidth$' align='center' id='"+imgID+"' class='image'>" + (showFilename ? ("<br>"+filename) : "");
	imgList.push(document.getElementById(imgID)); 
	imgList[i].addEventListener("click", function() { window.open(this.src, "_blank"); } ) 	
      }

      function getImages(){
      	return [ 
            $IMAGES$
        ];
      }
    </script>
  </body>

